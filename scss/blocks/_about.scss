@use "../base/variables" as *;

/* ======================================================
   ABOUT BLOCK (base layout stays the same)
====================================================== */

.aboutblock{
  position: relative;
  overflow: hidden;
  padding-block: clamp(4rem, 8vw, 6rem);

  &__inner{
    position: relative;
    z-index: 2;
    display: grid;
    grid-template-columns: repeat(12, minmax(0, 1fr));
    column-gap: clamp(1.5rem, 3vw, 2.5rem);
    align-items: center;
  }

  &__watermark{
    position:absolute;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    pointer-events:none;
    user-select:none;
    z-index:1;

    font-size: clamp(6rem, 14vw, 12rem);
    font-weight:900;
    letter-spacing:0.18em;
    text-transform:uppercase;
    line-height:0.85;
    white-space:nowrap;
    transform: rotate(-10deg);
  }

  &__content{
    grid-column: 1 / span 6;
    max-width: 44rem;
    position: relative;
    z-index: 2;
  }

  &__kicker{
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.16em;
    font-weight: 700;
    margin-bottom: 0.75rem;
    display: inline-flex;
    align-items: center;
    gap: .55rem;

    &::before{
      content:"";
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: var(--brand-color);
      box-shadow: 0 0 0 5px rgba(230, 57, 70, 0.15);
      flex: 0 0 auto;
    }
  }

  &__title{
    font-size: clamp(2.6rem, 4.2vw, 3.6rem);
    line-height: 1.02;
    margin: 0 0 1rem;
  }

  &__subtitle{
    font-size: 1.1rem;
    line-height: 1.6;
    margin: 0 0 1.5rem;
    max-width: 56ch;
  }

  &__body{
    font-size: 1.05rem;
    line-height: 1.75;
    margin: 0 0 2rem;
  }

  &__cta-row{
    display:flex;
    flex-wrap:wrap;
    gap: 1rem;
    margin-bottom: 2.25rem;
  }

  &__button{
    position: relative;
    padding: 0.9rem 1.8rem;
    font-weight: 650;
    border-radius: 999px;
    text-decoration: none;
    transition: transform .2s ease, background .2s ease, color .2s ease, border-color .2s ease;

    &:hover{ transform: translateY(-1px); }
  }

  &__highlights{
    display:grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
  }

  &__highlight{
    padding-top: 0.9rem;
  }

  &__highlight-value{
    font-size: 1.75rem;
    font-weight: 850;
    margin-bottom: 0.35rem;
  }

  &__highlight-label{
    font-size: 0.9rem;
    line-height: 1.5;
  }

  &__image{
    grid-column: 8 / -1;
    display:flex;
    justify-content:flex-end;
    position: relative;
    z-index: 2;
  }

  &__image-card{
    width:100%;
    max-width:560px;
    border-radius:22px;
    overflow:hidden;
  }

  &__image-media{
    width:100%;
    display:block;
    height:auto;
    object-fit: cover;
  }

  &__image-placeholder{
    display:flex;
    align-items:center;
    justify-content:center;
    min-height:320px;
    padding:2rem;
    text-align:center;
  }

  @media (max-width:960px){
    &__inner{
      grid-template-columns: 1fr;
      row-gap: 3rem;
    }

    &__content,
    &__image{
      grid-column: 1 / -1;
    }

    &__image{ justify-content:center; }

    &__watermark{
      font-size: clamp(5rem, 18vw, 10rem);
      transform: rotate(-7deg);
    }
  }

  @media (max-width:640px){
    &__cta-row{
      flex-direction: column;
      align-items: stretch;
    }

    &__highlights{
      grid-template-columns: 1fr;
    }

    &__image-card{ max-width:100%; }
  }
}

/* ======================================================
   LIGHT VERSION â€” TOPO/CONTOUR WATERMARK
====================================================== */

.aboutblock--light{
  color: #111;
  background: #fff;

  /* Topographic contour layer (full bleed) */
  &::before{
    content:"";
    position:absolute;
    inset:0;
    left:50%;
    width:100vw;
    transform:translateX(-50%);
    z-index:0;

    /* 1) base white
       2) topo svg watermark (repeating)
       3) subtle center fade to keep text readable */
    background:
      radial-gradient(70% 60% at 50% 45%, rgba(255,255,255,0.75), rgba(255,255,255,0.92) 55%, rgba(255,255,255,1) 100%),
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='900' height='520' viewBox='0 0 900 520'%3E%3Cg fill='none' stroke='%23000' stroke-opacity='0.08' stroke-width='2.5'%3E%3Cpath d='M-40 90 C 40 30 160 30 240 90 S 440 150 520 90 720 30 900 90'/%3E%3Cpath d='M-60 150 C 40 70 170 60 270 130 S 470 220 560 150 740 70 940 150'/%3E%3Cpath d='M-40 210 C 60 140 190 120 300 190 S 500 300 610 230 760 150 940 210'/%3E%3Cpath d='M-80 270 C 40 220 190 200 320 250 S 520 360 660 300 770 220 960 270'/%3E%3Cpath d='M-60 330 C 60 280 220 260 350 310 S 560 420 700 360 820 280 980 330'/%3E%3Cpath d='M-20 390 C 90 350 260 330 390 370 S 590 470 740 410 860 330 980 390'/%3E%3C/g%3E%3C/svg%3E");
    background-repeat: no-repeat, repeat;
    background-position: center, center;
    background-size: 100% 100%, 1200px 700px;
  }

  /* No dark vignette */
  &::after{ display:none; }

  .aboutblock__title{ color:#111; }
  .aboutblock__subtitle{ color: rgba(0,0,0,0.65); }
  .aboutblock__body{ color: rgba(0,0,0,0.62); }
  .aboutblock__kicker{ color: rgba(0,0,0,0.70); }

  /* Text watermark: keep super faint (or disable via PHP attr) */
  .aboutblock__watermark{
    color: rgba(0,0,0,0.03);

    i{
        font-size: clamp(7rem, 18vw, 16rem);
        line-height: 1;
        display: inline-block;
    }
  }

  .aboutblock__highlights .aboutblock__highlight{
    border-top: 1px solid rgba(0,0,0,0.12);
  }
  .aboutblock__highlight-value{ color:#111; }
  .aboutblock__highlight-label{ color: rgba(0,0,0,0.60); }

  /* Buttons: clean contrast */
  .aboutblock__button--primary{
    background: var(--brand-color);
    color:#fff;
    border: 1px solid transparent;

    &:hover{
      filter: brightness(0.95);
    }
  }

  .aboutblock__button--ghost{
    background: #111;
    color:#fff;
    border: 1px solid #111;

    &:hover{
      background: #000;
      border-color: #000;
    }
  }

  /* Image card: light */
  .aboutblock__image-card{
    background:#fff;
    box-shadow: 0 20px 55px rgba(0,0,0,0.12);
    border: 1px solid rgba(0,0,0,0.08);
  }

  .aboutblock__image-placeholder{
    background:#f5f5f5;
    border: 1px dashed rgba(0,0,0,0.15);
    color: rgba(0,0,0,0.55);
  }
}
